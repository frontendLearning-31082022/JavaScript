<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <!-- <script src="1.js"></script> -->
  <!-- <script src="2.js" defer></script> -->

  <!-- <script src="2.js" defer></script> -->
  <script src="DomReact.js" defer></script>

  <script>
    const initialData = [
      {
        product: "Apple iPhone 13",
        reviews: [
          {
            id: 1,
            text: "Отличный телефон! Батарея держится долго.",
          },
          {

            id: 2,
            text: "Камера супер, фото выглядят просто потрясающе.",
          },
        ],
      },
      {
        product: "Samsung Galaxy Z Fold 3",
        reviews: [
          {
            id: 3,
            text: "Интересный дизайн, но дорогой.",
          },
        ],
      },
      {
        product: "Sony PlayStation 5",
        reviews: [
          {
            id: 4,
            text: "Люблю играть на PS5, графика на высоте.",
          },
        ],
      },
    ];

    let format = initialData.map(x => { return { product: x } });
    debugger;



    // let templateMap = new Map([

    //   ['product', {
    //     parentNode: 'product-list',
    //     className: 'product'
    //   }],
    //   ['reviews', {
    //     parentNode: 'product',
    //     className: 'reviews'
    //   }],



    // ]);


    document.addEventListener('DOMContentLoaded', function () {
      const domReact = new DomReact(format, document.getElementsByClassName('product-list')[0]);
      window.domReact = domReact;
    }, false);

  </script>

  <style>
    .product {
      border: solid #adadad;
      margin: 20px;
      border-width: 1px;
    }

    .reviews {
      margin-left: 20px;
      font-size: 9px;
    }
  </style>

</head>

<body>

  <div class="product-list">

  </div>

</body>

</html>